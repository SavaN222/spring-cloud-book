This is not my code, I'm just following Thomas Vitale book "Spring Cloud In Action".
